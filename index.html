<div id="p1" class="page active" style="text-align: center; padding-top: 10vh;">
        <h1 style="font-size: 44px; font-weight: 900; background: var(--grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">TWINS</h1>
        <div style="display: grid; gap: 12px; max-width: 300px; margin: 40px auto;">
            <button class="btn" style="background: var(--card); color: white;" onclick="login('FRANCESCO')"> FRANCESCO</button>
            <button class="btn" style="background: var(--card); color: white;" onclick="login('OSCAR')"> OSCAR</button>
            <button class="btn" style="background: var(--card); color: white;" onclick="login('LUIS HERBER')"> LUIS HERBER</button>
            <button class="btn" style="background: var(--card); color: white; border: 1px solid var(--accent);" onclick="document.getElementById('modal-pass').style.display='flex'"> TAJHO</button>
        </div>
    </div>

<div id="p3" class="page">
        <div class="stat-grid">
            <div class="stat-box"><div class="stat-label">Acumulado Mes</div><div id="stat-mes" class="stat-val">0</div></div>
            <div class="stat-box"><div class="stat-label" id="label-dia">Total Hoy</div><div id="stat-dia" class="stat-val" style="color:var(--success);">0</div></div>
        </div>
        
        <div id="area-pdf" style="display:none; margin-bottom:15px;">
            <button class="btn" style="background: #fff; color: #000;" onclick="generarPDF()"> GENERAR REPORTE PDF</button>
        </div>

        <div class="stat-box" style="margin-bottom:15px; border-bottom:2px solid var(--accent);"><div class="stat-label">Puntos Despachados</div><div id="stat-clientes" class="stat-val" style="color:white;">0</div></div>
        <div id="h-list"></div>
    </div>

<script>
    // ... tus variables originales ...

    function login(n, targetPage = 'p2') { 
        user = n; 
        localStorage.setItem('tw_u', n);
        document.getElementById('p1').style.display='none'; 
        document.getElementById('header-app').style.display='flex'; 
        document.getElementById('nav-app').style.display='flex'; 
        document.getElementById('user-display').innerText = n; 
        
        // Solo Tajho ve el bot贸n de PDF
        document.getElementById('area-pdf').style.display = (n === 'TAJHO') ? 'block' : 'none';
        
        nav(targetPage); load(); 
    }

    // Funci贸n para el reporte solicitado
    function generarPDF() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        doc.text("REPORTE MENSUAL DE DESPACHOS - TWINS", 10, 10);
        doc.text("Generado por: TAJHO", 10, 20);
        // Aqu铆 el c贸digo recorre tu db original para el PDF
        let y = 30;
        db.slice(-20).forEach(r => {
            doc.text(`${r.fecha.split('T')[0]} - ${r.chofer}: ${r.total} CJ`, 10, y);
            y += 10;
        });
        doc.save("Reporte_Twins.pdf");
    }

    // ... el resto de tu c贸digo base se mantiene intacto ...
    function checkPass() { 
        if(document.getElementById('pass-input').value === "2026") {
            document.getElementById('modal-pass').style.display='none';
            login('TAJHO'); 
        } else {
            alert("C贸digo incorrecto");
        }
    }
</script>
